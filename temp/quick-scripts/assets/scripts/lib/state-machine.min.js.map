{"version":3,"sources":["state-machine.min.js"],"names":["t","n","exports","module","define","amd","StateMachine","e","i","s","l","call","m","c","d","o","Object","defineProperty","configurable","enumerable","get","__esModule","default","prototype","hasOwnProperty","p","arguments","length","build","r","plugins","methods","properties","defineProperties","hook","a","config","f","context","concat","apply","split","toLowerCase","charAt","toUpperCase","substring","prepended","options","defaults","states","transitions","map","lifecycle","configureLifecycle","init","configureInitTransition","data","configureData","configureMethods","wildcard","configureTransitions","configurePlugins","plugin","addState","push","addStateLifecycleNames","onEnter","onLeave","on","addTransition","indexOf","addTransitionLifecycleNames","onBefore","onAfter","mapTransition","name","from","to","transition","state","active","configure","Array","isArray","transitionFor","transitionsFor","keys","allStates","allTransitions","observers","fire","is","isPending","pending","can","seek","cannot","transit","observeUnchangedState","onPendingTransition","beginTransit","unshift","fsm","observeEvents","observersForEvent","onInvalidTransition","endTransit","failTransit","doTransit","observe","event","shift","then","bind","catch","_fsm","u","Error","forEach","slice","h","set","version","factory","message","current"],"mappings":"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","file":"state-machine.min.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\lib","sourcesContent":["!function(t,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(\"StateMachine\",[],n):\"object\"==typeof exports?exports.StateMachine=n():t.StateMachine=n()}(this,function(){return function(t){function n(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}var i={};return n.m=t,n.c=i,n.i=function(t){return t},n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,\"a\",i),i},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p=\"\",n(n.s=5)}([function(t,n,i){\"use strict\";t.exports=function(t,n){var i,e,s;for(i=1;i<arguments.length;i++){e=arguments[i];for(s in e)e.hasOwnProperty(s)&&(t[s]=e[s])}return t}},function(t,n,i){\"use strict\";var e=i(0);t.exports={build:function(t,n){var i,s,r,o=n.plugins;for(i=0,s=o.length;i<s;i++)r=o[i],r.methods&&e(t,r.methods),r.properties&&Object.defineProperties(t,r.properties)},hook:function(t,n,i){var e,s,r,o,a=t.config.plugins,f=[t.context];for(i&&(f=f.concat(i)),e=0,s=a.length;e<s;e++)o=a[e],(r=a[e][n])&&r.apply(o,f)}}},function(t,n,i){\"use strict\";function e(t){if(0===t.length)return t;var n,i,e=t.split(/[_-]/);if(1===e.length&&e[0][0].toLowerCase()===e[0][0])return t;for(i=e[0].toLowerCase(),n=1;n<e.length;n++)i=i+e[n].charAt(0).toUpperCase()+e[n].substring(1).toLowerCase();return i}e.prepended=function(t,n){return n=e(n),t+n[0].toUpperCase()+n.substring(1)},t.exports=e},function(t,n,i){\"use strict\";function e(t,n){t=t||{},this.options=t,this.defaults=n.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(t.init),this.data=this.configureData(t.data),this.methods=this.configureMethods(t.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(t.transitions||[]),this.plugins=this.configurePlugins(t.plugins,n.plugin)}var s=i(0),r=i(2);s(e.prototype,{addState:function(t){this.map[t]||(this.states.push(t),this.addStateLifecycleNames(t),this.map[t]={})},addStateLifecycleNames:function(t){this.lifecycle.onEnter[t]=r.prepended(\"onEnter\",t),this.lifecycle.onLeave[t]=r.prepended(\"onLeave\",t),this.lifecycle.on[t]=r.prepended(\"on\",t)},addTransition:function(t){this.transitions.indexOf(t)<0&&(this.transitions.push(t),this.addTransitionLifecycleNames(t))},addTransitionLifecycleNames:function(t){this.lifecycle.onBefore[t]=r.prepended(\"onBefore\",t),this.lifecycle.onAfter[t]=r.prepended(\"onAfter\",t),this.lifecycle.on[t]=r.prepended(\"on\",t)},mapTransition:function(t){var n=t.name,i=t.from,e=t.to;return this.addState(i),\"function\"!=typeof e&&this.addState(e),this.addTransition(n),this.map[i][n]=t,t},configureLifecycle:function(){return{onBefore:{transition:\"onBeforeTransition\"},onAfter:{transition:\"onAfterTransition\"},onEnter:{state:\"onEnterState\"},onLeave:{state:\"onLeaveState\"},on:{transition:\"onTransition\"}}},configureInitTransition:function(t){return\"string\"==typeof t?this.mapTransition(s({},this.defaults.init,{to:t,active:!0})):\"object\"==typeof t?this.mapTransition(s({},this.defaults.init,t,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(t){return\"function\"==typeof t?t:\"object\"==typeof t?function(){return t}:function(){return{}}},configureMethods:function(t){return t||{}},configurePlugins:function(t,n){t=t||[];var i,e,s;for(i=0,e=t.length;i<e;i++)s=t[i],\"function\"==typeof s&&(t[i]=s=s()),s.configure&&s.configure(this);return t},configureTransitions:function(t){var n,i,e,s,r,o=this.defaults.wildcard;for(i=0;i<t.length;i++)for(e=t[i],s=Array.isArray(e.from)?e.from:[e.from||o],r=e.to||o,n=0;n<s.length;n++)this.mapTransition({name:e.name,from:s[n],to:r})},transitionFor:function(t,n){var i=this.defaults.wildcard;return this.map[t][n]||this.map[i][n]},transitionsFor:function(t){var n=this.defaults.wildcard;return Object.keys(this.map[t]).concat(Object.keys(this.map[n]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),t.exports=e},function(t,n,i){function e(t,n){this.context=t,this.config=n,this.state=n.init.from,this.observers=[t]}var s=i(0),r=i(6),o=i(1),a=[null,[]];s(e.prototype,{init:function(t){if(s(this.context,this.config.data.apply(this.context,t)),o.hook(this,\"init\"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(t){return Array.isArray(t)?t.indexOf(this.state)>=0:this.state===t},isPending:function(){return this.pending},can:function(t){return!this.isPending()&&!!this.seek(t)},cannot:function(t){return!this.can(t)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(t,n){var i=this.config.defaults.wildcard,e=this.config.transitionFor(this.state,t),s=e&&e.to;return\"function\"==typeof s?s.apply(this.context,n):s===i?this.state:s},fire:function(t,n){return this.transit(t,this.state,this.seek(t,n),n)},transit:function(t,n,i,e){var s=this.config.lifecycle,r=this.config.options.observeUnchangedState||n!==i;return i?this.isPending()?this.context.onPendingTransition(t,n,i):(this.config.addState(i),this.beginTransit(),e.unshift({transition:t,from:n,to:i,fsm:this.context}),this.observeEvents([this.observersForEvent(s.onBefore.transition),this.observersForEvent(s.onBefore[t]),r?this.observersForEvent(s.onLeave.state):a,r?this.observersForEvent(s.onLeave[n]):a,this.observersForEvent(s.on.transition),r?[\"doTransit\",[this]]:a,r?this.observersForEvent(s.onEnter.state):a,r?this.observersForEvent(s.onEnter[i]):a,r?this.observersForEvent(s.on[i]):a,this.observersForEvent(s.onAfter.transition),this.observersForEvent(s.onAfter[t]),this.observersForEvent(s.on[t])],e)):this.context.onInvalidTransition(t,n,i)},beginTransit:function(){this.pending=!0},endTransit:function(t){return this.pending=!1,t},failTransit:function(t){throw this.pending=!1,t},doTransit:function(t){this.state=t.to},observe:function(t){if(2===t.length){var n={};n[t[0]]=t[1],this.observers.push(n)}else this.observers.push(t[0])},observersForEvent:function(t){for(var n,i=0,e=this.observers.length,s=[];i<e;i++)n=this.observers[i],n[t]&&s.push(n);return[t,s,!0]},observeEvents:function(t,n,i,e){if(0===t.length)return this.endTransit(void 0===e||e);var s=t[0][0],r=t[0][1],a=t[0][2];if(n[0].event=s,s&&a&&s!==i&&o.hook(this,\"lifecycle\",n),0===r.length)return t.shift(),this.observeEvents(t,n,s,e);var f=r.shift(),c=f[s].apply(f,n);return c&&\"function\"==typeof c.then?c.then(this.observeEvents.bind(this,t,n,s)).catch(this.failTransit.bind(this)):!1===c?this.endTransit(!1):this.observeEvents(t,n,s,c)},onInvalidTransition:function(t,n,i){throw new r(\"transition is invalid in current state\",t,n,i,this.state)},onPendingTransition:function(t,n,i){throw new r(\"transition is invalid while previous transition is still in progress\",t,n,i,this.state)}}),t.exports=e},function(t,n,i){\"use strict\";function e(t){return r(this||{},t)}function s(){var t,n;\"function\"==typeof arguments[0]?(t=arguments[0],n=arguments[1]||{}):(t=function(){this._fsm.apply(this,arguments)},n=arguments[0]||{});var i=new u(n,e);return o(t.prototype,i),t.prototype._fsm.config=i,t}function r(t,n){return o(t,new u(n,e)),t._fsm(),t}function o(t,n){if(\"object\"!=typeof t||Array.isArray(t))throw Error(\"StateMachine can only be applied to objects\");c.build(t,n),Object.defineProperties(t,d),a(t,l),a(t,n.methods),n.allTransitions().forEach(function(n){t[f(n)]=function(){return this._fsm.fire(n,[].slice.call(arguments))}}),t._fsm=function(){this._fsm=new h(this,n),this._fsm.init(arguments)}}var a=i(0),f=i(2),c=i(1),u=i(3),h=i(4),l={is:function(t){return this._fsm.is(t)},can:function(t){return this._fsm.can(t)},cannot:function(t){return this._fsm.cannot(t)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(t,n,i){return this._fsm.onInvalidTransition(t,n,i)},onPendingTransition:function(t,n,i){return this._fsm.onPendingTransition(t,n,i)}},d={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(t){throw Error(\"use transitions to change state\")}}};e.version=\"3.0.1\",e.factory=s,e.apply=r,e.defaults={wildcard:\"*\",init:{name:\"init\",from:\"none\"}},t.exports=e},function(t,n,i){\"use strict\";t.exports=function(t,n,i,e,s){this.message=t,this.transition=n,this.from=i,this.to=e,this.current=s}}])});"]}