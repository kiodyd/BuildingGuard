{"version":3,"sources":["changBackground.js"],"names":["cc","Class","extends","Component","properties","anim_fade","type","Animation","default","Wireframe1","Node","Wireframe2","judgeProcess","Sprite","collider","onLoad","thisprite","node","getComponent","wiresprite1","wiresprite2","GLB","levelIndex","loader","loadRes","SpriteFrame","err","ret","error","message","spriteFrame","bind","console","log","setTimeout","active","play"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAU;AACNC,kBAAKN,GAAGO,SADF;AAENC,qBAAQ;AAFF,SADF;AAKRC,oBAAWT,GAAGU,IALN;AAMRC,oBAAWX,GAAGU,IANN;AAORE,sBAAaZ,GAAGa,MAPR;AAQRC,kBAAUd,GAAGa;AARL,KAHP;;AAiBLE,UAjBK,oBAiBK;AAAA;;AACN,YAAIC,YAAU,KAAKC,IAAL,CAAUC,YAAV,CAAuBlB,GAAGa,MAA1B,CAAd,CADM,CAC0C;AAChD,YAAIM,cAAc,KAAKV,UAAL,CAAgBS,YAAhB,CAA6BlB,GAAGa,MAAhC,CAAlB;AACA,YAAIO,cAAc,KAAKT,UAAL,CAAgBO,YAAhB,CAA6BlB,GAAGa,MAAhC,CAAlB;AACA,gBAAOQ,IAAIC,UAAX;AACI,iBAAK,CAAL;AAAO;AAAC;AACJtB,uBAAGuB,MAAH,CAAUC,OAAV,CAAkB,qBAAlB,EAAyCxB,GAAGyB,WAA5C,EAAyD,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACzE,4BAAID,GAAJ,EAAS;AACL1B,+BAAG4B,KAAH,CAASF,IAAIG,OAAJ,IAAeH,GAAxB;AACA;AACH;AACDV,kCAAUc,WAAV,GAAsBH,GAAtB;AACH,qBANwD,CAMvDI,IANuD,CAMlD,IANkD,CAAzD;;AASA;AACA/B,uBAAGuB,MAAH,CAAUC,OAAV,CAAkB,eAAlB,EAAmCxB,GAAGyB,WAAtC,EAAmD,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACnE,4BAAID,GAAJ,EAAS;AACL1B,+BAAG4B,KAAH,CAASF,IAAIG,OAAJ,IAAeH,GAAxB;AACA;AACH;AACDP,oCAAYW,WAAZ,GAAwBH,GAAxB;AACAP,oCAAYU,WAAZ,GAAwBH,GAAxB;AACH,qBAPkD,CAOjDI,IAPiD,CAO5C,IAP4C,CAAnD;;AASA;AACA/B,uBAAGuB,MAAH,CAAUC,OAAV,CAAkB,YAAlB,EAAgCxB,GAAGyB,WAAnC,EAAgD,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAChE,4BAAID,GAAJ,EAAS;AACL1B,+BAAG4B,KAAH,CAASF,IAAIG,OAAJ,IAAeH,GAAxB;AACA;AACH;AACD,6BAAKd,YAAL,CAAkBkB,WAAlB,GAA8BH,GAA9B;AACH,qBAN+C,CAM9CI,IAN8C,CAMzC,IANyC,CAAhD;;AAQA;AACA/B,uBAAGuB,MAAH,CAAUC,OAAV,CAAkB,YAAlB,EAAgCxB,GAAGyB,WAAnC,EAAgD,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAChE,4BAAID,GAAJ,EAAS;AACL1B,+BAAG4B,KAAH,CAASF,IAAIG,OAAJ,IAAeH,GAAxB;AACA;AACH;AACD,6BAAKZ,QAAL,CAAcgB,WAAd,GAA0BH,GAA1B;AACH,qBAN+C,CAM9CI,IAN8C,CAMzC,IANyC,CAAhD;;AAQA;AACH;AACD,iBAAK,CAAL;AAAO;AAAC;AACJ/B,uBAAGuB,MAAH,CAAUC,OAAV,CAAkB,qBAAlB,EAAyCxB,GAAGyB,WAA5C,EAAyD,UAAUC,GAAV,EAAeI,WAAf,EAA4B;AACjF,4BAAIJ,GAAJ,EAAS;AACL1B,+BAAG4B,KAAH,CAASF,IAAIG,OAAJ,IAAeH,GAAxB;AACA;AACH;AACDV,kCAAUc,WAAV,GAAsBA,WAAtB;AACH,qBANwD,CAMvDC,IANuD,CAMlD,IANkD,CAAzD;;AASC;AACD/B,uBAAGuB,MAAH,CAAUC,OAAV,CAAkB,eAAlB,EAAmCxB,GAAGyB,WAAtC,EAAmD,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACnE,4BAAID,GAAJ,EAAS;AACL1B,+BAAG4B,KAAH,CAASF,IAAIG,OAAJ,IAAeH,GAAxB;AACA;AACH;AACDP,oCAAYW,WAAZ,GAAwBH,GAAxB;AACAP,oCAAYU,WAAZ,GAAwBH,GAAxB;AACH,qBAPkD,CAOjDI,IAPiD,CAO5C,IAP4C,CAAnD;;AAUA;AACA/B,uBAAGuB,MAAH,CAAUC,OAAV,CAAkB,YAAlB,EAAgCxB,GAAGyB,WAAnC,EAAgD,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAChE,4BAAID,GAAJ,EAAS;AACL1B,+BAAG4B,KAAH,CAASF,IAAIG,OAAJ,IAAeH,GAAxB;AACA;AACH;AACD,6BAAKd,YAAL,CAAkBkB,WAAlB,GAA8BH,GAA9B;AACH,qBAN+C,CAM9CI,IAN8C,CAMzC,IANyC,CAAhD;;AAQA;AACA/B,uBAAGuB,MAAH,CAAUC,OAAV,CAAkB,YAAlB,EAAgCxB,GAAGyB,WAAnC,EAAgD,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAChE,4BAAID,GAAJ,EAAS;AACL1B,+BAAG4B,KAAH,CAASF,IAAIG,OAAJ,IAAeH,GAAxB;AACA;AACH;AACD,6BAAKZ,QAAL,CAAcgB,WAAd,GAA0BH,GAA1B;AACH,qBAN+C,CAM9CI,IAN8C,CAMzC,IANyC,CAAhD;;AASA;AACH;AACD,iBAAK,CAAL;AAAO;AAAC;AACJ/B,uBAAGuB,MAAH,CAAUC,OAAV,CAAkB,qBAAlB,EAAyCxB,GAAGyB,WAA5C,EAAyD,UAAUC,GAAV,EAAeI,WAAf,EAA4B;AACjF,4BAAIJ,GAAJ,EAAS;AACL1B,+BAAG4B,KAAH,CAASF,IAAIG,OAAJ,IAAeH,GAAxB;AACA;AACH;AACDV,kCAAUc,WAAV,GAAsBA,WAAtB;AACH,qBANwD,CAMvDC,IANuD,CAMlD,IANkD,CAAzD;;AAQC;AACD/B,uBAAGuB,MAAH,CAAUC,OAAV,CAAkB,eAAlB,EAAmCxB,GAAGyB,WAAtC,EAAmD,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACnE,4BAAID,GAAJ,EAAS;AACL1B,+BAAG4B,KAAH,CAASF,IAAIG,OAAJ,IAAeH,GAAxB;AACA;AACH;AACDP,oCAAYW,WAAZ,GAAwBH,GAAxB;AACAP,oCAAYU,WAAZ,GAAwBH,GAAxB;AACH,qBAPkD,CAOjDI,IAPiD,CAO5C,IAP4C,CAAnD;;AAUA;AACA/B,uBAAGuB,MAAH,CAAUC,OAAV,CAAkB,YAAlB,EAAgCxB,GAAGyB,WAAnC,EAAgD,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAChE,4BAAID,GAAJ,EAAS;AACL1B,+BAAG4B,KAAH,CAASF,IAAIG,OAAJ,IAAeH,GAAxB;AACA;AACH;AACD,6BAAKd,YAAL,CAAkBkB,WAAlB,GAA8BH,GAA9B;AACH,qBAN+C,CAM9CI,IAN8C,CAMzC,IANyC,CAAhD;;AAQA;AACA/B,uBAAGuB,MAAH,CAAUC,OAAV,CAAkB,YAAlB,EAAgCxB,GAAGyB,WAAnC,EAAgD,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAChE,4BAAID,GAAJ,EAAS;AACL1B,+BAAG4B,KAAH,CAASF,IAAIG,OAAJ,IAAeH,GAAxB;AACA;AACH;AACD,6BAAKZ,QAAL,CAAcgB,WAAd,GAA0BH,GAA1B;AACH,qBAN+C,CAM9CI,IAN8C,CAMzC,IANyC,CAAhD;;AASA;AACH;AACD;AAAQ;AACJC,4BAAQC,GAAR,CAAY,cAAZ;AACA;AACH;AA/HL;;AAkIAC,mBAAW,YAAM;AACb,kBAAK7B,SAAL,CAAeY,IAAf,CAAoBkB,MAApB,GAA2B,IAA3B,CADa,CACmB;AAChC,kBAAK9B,SAAL,CAAe+B,IAAf,GAFa,CAES;AACzB,SAHD,EAGG,GAHH;AAMH;AA7JI;;AA+JL;AA/JJ","file":"changBackground.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\game","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        anim_fade:{\r\n            type:cc.Animation,\r\n            default:null,\r\n        },\r\n        Wireframe1:cc.Node,\r\n        Wireframe2:cc.Node,\r\n        judgeProcess:cc.Sprite,\r\n        collider: cc.Sprite\r\n    },\r\n\r\n\r\n    \r\n\r\n    onLoad () {\r\n        var thisprite=this.node.getComponent(cc.Sprite);//获得自身组件sprite\r\n        var wiresprite1 = this.Wireframe1.getComponent(cc.Sprite);\r\n        var wiresprite2 = this.Wireframe2.getComponent(cc.Sprite);\r\n        switch(GLB.levelIndex){\r\n            case 1:{//为背景1的时候，加载背景1\r\n                cc.loader.loadRes('texture/background1', cc.SpriteFrame, function (err, ret) {\r\n                    if (err) {\r\n                        cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    thisprite.spriteFrame=ret;\r\n                }.bind(this));\r\n\r\n\r\n                //加载线框图\r\n                cc.loader.loadRes('texture/line1', cc.SpriteFrame, function (err, ret) {\r\n                    if (err) {\r\n                        cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    wiresprite1.spriteFrame=ret;\r\n                    wiresprite2.spriteFrame=ret;\r\n                }.bind(this));\r\n\r\n                //加载完成度对比图\r\n                cc.loader.loadRes('texture/c1', cc.SpriteFrame, function (err, ret) {\r\n                    if (err) {\r\n                        cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    this.judgeProcess.spriteFrame=ret;\r\n                }.bind(this));\r\n\r\n                //加载地形底座\r\n                cc.loader.loadRes('texture/g1', cc.SpriteFrame, function (err, ret) {\r\n                    if (err) {\r\n                        cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    this.collider.spriteFrame=ret;\r\n                }.bind(this));\r\n\r\n                break;\r\n            }\r\n            case 2:{//为背景2的时候，加载背景2\r\n                cc.loader.loadRes('texture/background2', cc.SpriteFrame, function (err, spriteFrame) {\r\n                    if (err) {\r\n                        cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    thisprite.spriteFrame=spriteFrame;\r\n                }.bind(this));\r\n\r\n\r\n                 //加载线框图\r\n                cc.loader.loadRes('texture/line2', cc.SpriteFrame, function (err, ret) {\r\n                    if (err) {\r\n                        cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    wiresprite1.spriteFrame=ret;\r\n                    wiresprite2.spriteFrame=ret;\r\n                }.bind(this));\r\n\r\n\r\n                //加载完成度对比图\r\n                cc.loader.loadRes('texture/c2', cc.SpriteFrame, function (err, ret) {\r\n                    if (err) {\r\n                        cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    this.judgeProcess.spriteFrame=ret;\r\n                }.bind(this));\r\n\r\n                //加载地形底座\r\n                cc.loader.loadRes('texture/g2', cc.SpriteFrame, function (err, ret) {\r\n                    if (err) {\r\n                        cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    this.collider.spriteFrame=ret;\r\n                }.bind(this));\r\n\r\n\r\n                break;\r\n            }\r\n            case 3:{//为背景3的时候，加载背景3\r\n                cc.loader.loadRes('texture/background3', cc.SpriteFrame, function (err, spriteFrame) {\r\n                    if (err) {\r\n                        cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    thisprite.spriteFrame=spriteFrame;\r\n                }.bind(this));\r\n\r\n                 //加载线框图\r\n                cc.loader.loadRes('texture/line3', cc.SpriteFrame, function (err, ret) {\r\n                    if (err) {\r\n                        cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    wiresprite1.spriteFrame=ret;\r\n                    wiresprite2.spriteFrame=ret;\r\n                }.bind(this));\r\n\r\n\r\n                //加载完成度对比图\r\n                cc.loader.loadRes('texture/c3', cc.SpriteFrame, function (err, ret) {\r\n                    if (err) {\r\n                        cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    this.judgeProcess.spriteFrame=ret;\r\n                }.bind(this));\r\n\r\n                //加载地形底座\r\n                cc.loader.loadRes('texture/g3', cc.SpriteFrame, function (err, ret) {\r\n                    if (err) {\r\n                        cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    this.collider.spriteFrame=ret;\r\n                }.bind(this));\r\n\r\n\r\n                break;\r\n            }\r\n            default:{\r\n                console.log(\"noBackground\");\r\n                break;\r\n            }\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.anim_fade.node.active=true;//渐变激活\r\n            this.anim_fade.play();//渐变播放\r\n        }, 200);\r\n        \r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}