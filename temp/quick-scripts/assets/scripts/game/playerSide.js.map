{"version":3,"sources":["playerSide.js"],"names":["stateSystem","require","cc","Class","extends","Component","properties","protector","Node","destroyer","countDown","Animation","onLoad","GLB","camp","active","getComponent","play","on","console","log","node","schedule","bind","Game","GameManager","gameState","GameState","Play","mainFsm","toRoundOne","start"],"mappings":"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","file":"playerSide.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["var stateSystem = require(\"StateSystem\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        protector:cc.Node,\r\n        destroyer:cc.Node,\r\n        countDown:cc.Animation,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\r\n        if(GLB.camp==1){//若=1，为破坏者\r\n            this.protector.active=false;//节点显示\r\n            this.destroyer.active=true;\r\n            this.destroyer.getComponent(cc.Animation).play();//播放阵容提示\r\n            this.destroyer.getComponent(cc.Animation).on(\"finished\",function(){//结束后\r\n                this.destroyer.active=false;\r\n                console.log(\"anim_playerSide_finished\");\r\n\r\n                this.countDown.node.active=true;\r\n                this.schedule( function(){\r\n                    this.countDown.play();//出现地图提示\r\n                    console.log(\"conutDown_play\");\r\n                }.bind(this) ,0,0,0.5 );\r\n               \r\n                \r\n                this.countDown.on(\"finished\",function(){//countdown结束\r\n                    this.countDown.node.active=false;\r\n                    console.log(\"anim_conutDown_finished\");\r\n                    Game.GameManager.gameState = GameState.Play;\r\n                    stateSystem.mainFsm.toRoundOne();\r\n                }.bind(this));\r\n\r\n            }.bind(this));\r\n        }else if(GLB.camp == 0){\r\n            this.protector.active=true;//节点显示\r\n            this.destroyer.active=false;\r\n            this.protector.getComponent(cc.Animation).play();//播放阵容提示\r\n            this.protector.getComponent(cc.Animation).on(\"finished\",function(){//结束后\r\n                this.protector.active=false;\r\n                console.log(\"anim_playerSide_finished\");\r\n\r\n                this.countDown.node.active=true;\r\n                this.schedule( function(){}.bind(this) ,0,1,0.5 );\r\n                this.countDown.play();//出现地图提示\r\n                console.log(\"conutDown_play\");\r\n                this.countDown.on(\"finished\",function(){//countdown结束\r\n                    this.countDown.node.active=false;\r\n                    console.log(\"anim_conutDown_finished\");\r\n                    Game.GameManager.gameState = GameState.Play;\r\n                    stateSystem.mainFsm.toRoundOne();\r\n                }.bind(this));\r\n\r\n            }.bind(this));\r\n        }\r\n\r\n        // modulepi.module_playerIndex=this.sideIndex;\r\n        // console.log(\"moudule_playerIndex=\"+modulepi.moudule_playerIndex);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}